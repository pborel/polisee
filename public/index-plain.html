<!DOCTYPE html>
<html>
<head>
  <title>Polisee</title>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/react.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/JSXTransformer.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="stylesheets/index-plain.css"></link>

</head>
<body>
  <div id="content"></div>
    <script type="text/jsx">
      var ArticleContainer = React.createClass({
        render: function(){
          return (
            <div>
              <SearchBar />

              <ArticlesList url={this.props.url}/>
            </div>
          )
        }
      })

      var SearchBar = React.createClass({
        render: function(){
          return (
            <div>
              <input type="text" placeholder="search by bill or topic"></input>
            </div>
          )
        }
      })

      var ArticlesList = React.createClass({
        getInitialState: function() {
            return {data: []};
          },
        componentDidMount: function() {
            $.ajax({
              url: this.props.url,
              dataType: 'json',
              cache: false,
              success: function(data) {
                this.setState({data: data});
              }.bind(this),
              error: function(xhr, status, err) {
                console.error(this.props.url, status, err.toString());
              }.bind(this)
            });
          },

        render: function() {
          var articleNodes = this.data.map(function(article) {
            return (
              < Article > {article.sponsor_id} </Article>
            )
          })

          return (
            {articleNodes}
          )
        }

      })

      var Article = React.createClass({
        render: function() {

          return (
            <div>
              {this.props.children}
            </div>
          )
        }
      })

      React.render(
        <ArticleContainer url="/legislators.json"/>,
        document.getElementById('content')
      )
    </script>

  <!-- <div class="page-container debugger">

    <div class="nav debugger">
      <span>
        <form>
          <span class="title">Polisee</span>
          <input type="text" placeholder="zipcode">
        </form>
      </span>
    </div>

    <div class="tabs-list-container debugger">
      <div class="search">
        <input type="text" placeholder="search by bill or topic">
      </div>
      <div class="tabs-list debugger">
        <div class="tab-buttons debugger">
          <a href="#" class="button debugger">button</a>
          <a href="#" class="button debugger">button</a>
          <a href="#" class="button debugger">button</a>
        </div>
        <div class="tab-content debugger">tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br>tab-content<br></div>
      </div>
    </div>
    <hr></hr>
    <div class="rep-profiles-container debugger">
      <div class="rep-profile debugger">
        <div class="rep-picture debugger">picture</div>
        <div class="rep-name debugger">EMILIO</div>
        <div class="rep-info debugger">SENETAR  <br>
          SENETAR  <br>SENETAR  <br>SENETAR  <br>
        </div>
      </div>

      <div class="rep-profile debugger">
        <div class="rep-picture debugger">picture</div>
        <div class="rep-name debugger">phillip</div>
        <div class="rep-info debugger">SENETAR  <br>
          SENETAR  <br>SENETAR  <br>SENETAR  <br>
        </div>
      </div>

      <div class="rep-profile debugger">
        <div class="rep-picture debugger">picture</div>
        <div class="rep-name debugger">peter</div>
        <div class="rep-info debugger">SENETAR  <br>
          SENETAR  <br>SENETAR  <br>SENETAR  <br>
        </div>
      </div>

    </div>
  </div> -->
</body>
</html>
